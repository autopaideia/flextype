/*!
 * flextype.js v1.0.0
 * (c) 2017 Nick Bosman
 * Released under the MIT License.
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.flextype=t()}(this,function(){"use strict";var e=1,t=2,n={},i=function(e){if(e instanceof HTMLElement)return[e];if(null===e||void 0===e.length)return[];if(0===e.length||e[0]instanceof HTMLElement)return e;throw new TypeError("Flextype: Invalid selector")},r=function(e){return new FlexType(e)},FlexType=function(e){var t=this;this.els=i(e),this.flex=function(){return r.setElSize(t.els)},this.flex(),addEventListener("resize",this.flex)};return FlexType.prototype.destroy=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];removeEventListener("resize",this.flex),e&&r.setElSize(this.els,"")},r.size=function(i,r,s){var o=void 0;void 0===s||void 0===n[s]?!function(){var r=parseFloat(i),l=!isNaN(r)&&isFinite(r)?{100:r}:i;o=Object.keys(l).map(function(n){return{w:parseFloat(n.replace(/\+|-|\s/g,"")),s:parseFloat(l[n]),l:(n.indexOf("-")+1&&t)+(n.indexOf("+")+1&&e)}}),void 0!==s&&(n[s]=o)}():o=n[s];var l=o.reduce(function(e,t){return{start:t.w<=r&&t.w>=e.start.w?t:e.start,end:t.w>r&&t.w<e.end.w?t:e.end}},{start:{w:0,s:0,l:0},end:{w:1/0,s:1/0,l:0}}),f=l.start,a=l.end;return r===f.w||[e,e+t].indexOf(f.l)>=0?f.s:[t,e+t].indexOf(a.l)>=0?a.s:a.w===1/0?r*f.s/f.w:f.s+(a.s-f.s)*(r-f.w)/(a.w-f.w)},r.setElSize=function(e,t){for(var n=i(e),s=0;s<n.length;s+=1){var o=n[s],l=t;void 0===t&&(l=r.getElSize(o));var f=o.style.fontSize;if(o.style.fontSize=l?l+"px":l,o.style.fontSize!==f)if("function"==typeof CustomEvent)o.dispatchEvent(new CustomEvent("flextype:changed"));else{var a=document.createEvent("CustomEvent");a.initCustomEvent("flextype:changed",!0,!1,void 0),o.dispatchEvent(a)}}},r.getElSize=function(e){var t=i(e),s=t[0];if(!s)return"";var o=getComputedStyle(s),l=o.getPropertyValue("--flextype")||getComputedStyle(s,"::before").content;if(!l||["''",'""',"none"].indexOf(l)>=0)return"";var f=void 0===n[l]?JSON.parse(l.trim().replace(/^'|^"|\\|%|'$|"$/g,"")):null,a=o.width,d=o.borderLeftWidth,u=o.borderRightWidth,v=parseFloat(a)-parseFloat(d)-parseFloat(u);return r.size(f,v,l)},r.flex=r(document.getElementsByClassName("js-flextype")).flex,r});
/*!
 * flextype.js v1.0.2
 * (c) 2017 Nick Bosman
 * Released under the MIT License.
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.flextype=t()}(this,function(){"use strict";var e=/\+|-|\s/g,t=/^'|^"|\\|%|'$|"$/g,n={},r=function(e){if(e instanceof HTMLElement)return[e];if(null===e||void 0===e.length)return[];if(0===e.length||e[0]instanceof HTMLElement)return e;throw new TypeError("Flextype: Invalid selector")},i=function(e){return new FlexType(e)},FlexType=function(e){var t=this;this.els=r(e),this.flex=function(){return i.setElSize(t.els)},this.flex(),addEventListener("resize",this.flex)};return FlexType.prototype.destroy=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];removeEventListener("resize",this.flex),e&&i.setElSize(this.els,"")},i.size=function(t,r,i){var s=n[i];if(void 0===s){var o=parseFloat(t),l=!isNaN(o)&&isFinite(o)?{100:o}:t;s=Object.keys(l).map(function(t){return{w:parseFloat(t.replace(e,"")),s:parseFloat(l[t]),l:(t.indexOf("-")+1&&2)+(t.indexOf("+")+1&&1)}}),void 0!==i&&(n[i]=s)}var f=s.reduce(function(e,t){return{start:t.w<=r&&t.w>=e.start.w?t:e.start,end:t.w>r&&t.w<e.end.w?t:e.end}},{start:{w:0,s:0,l:0},end:{w:1/0,s:1/0,l:0}}),a=f.start,u=f.end;return r===a.w||-1!==[1,3].indexOf(a.l)?a.s:-1!==[2,3].indexOf(u.l)?u.s:u.w===1/0?r*a.s/a.w:a.s+(u.s-a.s)*(r-a.w)/(u.w-a.w)},i.setElSize=function(e,t){for(var n=r(e),s=0;s<n.length;s+=1){var o=n[s],l=o.style.fontSize,f=void 0===t?i.getElSize(o):t;if(o.style.fontSize=f?f+"px":f,o.style.fontSize===l)return;if("function"==typeof CustomEvent)o.dispatchEvent(new CustomEvent("flextype:changed"));else{var a=document.createEvent("CustomEvent");a.initCustomEvent("flextype:changed",!0,!1,void 0),o.dispatchEvent(a)}}},i.getElSize=function(e){var s=r(e)[0];if(!s)return"";var o=getComputedStyle(s),l=o.getPropertyValue("--flextype")||getComputedStyle(s,"::before").content;if(!l||-1!==["''",'""',"none"].indexOf(l))return"";var f=n[l]||JSON.parse(l.trim().replace(t,"")),a=o.width,u=o.borderLeftWidth,d=o.borderRightWidth,c=parseFloat(a)-parseFloat(u)-parseFloat(d);return i.size(f,c,l)},i.flex=i(document.getElementsByClassName("js-flextype")).flex,i});